<!DOCTYPE html>
<html lang="en">
<head>
    <title>Fetch API</title>
    
</head>
<body>
    <!--- <input type="text" id="searchField" placeholder="search query">
    <input type="submit" value="Submit form"> --->

    <!--- <button onclick="searchShow('athena')">Click me</button> --->

    <input type="search" onsearch="searchShow(this.value)" id="a">
    <div id="app"></div>

    <h1>Query Search</h1>
    <p>
        results: <span id="d"></span><br />
        Text: <span id="b"></span><br />
        URL : <a href="" id="e" target="_blank"></a>
        
        
    </p>

    

    <script>
    function searchShow(a) {
    //a = "kendra"
    const url = 'https://vqtv2m1x1h.execute-api.ap-southeast-1.amazonaws.com/default/query?query=' + a;
    const abc = fetch(url)
    .then(response => response.json())
    .then((data) => {

        document.querySelector('#b').innerText = data.DocumentExcerpt.Text;
        document.querySelector('#e').innerText = data.DocumentURI;
        document.querySelector('#e').href = data.DocumentURI;

    })
    .catch(error => {
        document.querySelector('#d').innerText = data.Type;    
    });
}
    </script>
</body>
</html>
